{# templates/partials/faq_teaser.html #}
{% load i18n %}

<section id="faq-teaser"
         class="relative isolate overflow-hidden bg-white dark:bg-neutral-950 py-16 md:py-24 scroll-mt-24">
  <!-- BG -->
  <div class="pointer-events-none absolute inset-0 -z-10" aria-hidden="true">
    <div class="absolute inset-0 bg-gradient-to-b from-white/0 via-white/15 to-white/0 dark:hidden"></div>
    <div class="hidden dark:block absolute inset-0 bg-gradient-to-b from-neutral-950/0 via-neutral-950/50 to-neutral-950/0"></div>
    <div class="absolute -top-24 -right-24 h-80 w-80 rounded-full blur-3xl bg-indigo-400/25 dark:bg-indigo-500/25"></div>
    <div class="absolute bottom-0 left-1/4 h-72 w-72 rounded-full blur-3xl bg-emerald-400/20 dark:bg-emerald-500/20"></div>
  </div>

  <div class="max-w-screen-xl mx-auto px-6">
    <div class="text-center">
      <span class="inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium
                   bg-indigo-600/10 border-indigo-600/30 text-indigo-700
                   dark:bg-indigo-500/10 dark:border-indigo-400/30 dark:text-indigo-300">
        {% trans "FAQ" %}
      </span>
      <h2 class="mt-4 text-3xl md:text-4xl font-semibold tracking-tight text-gray-900 dark:text-gray-100">
        {% trans "Got questions? Weâ€™ve got quick answers." %}
      </h2>
      <p class="mt-3 md:mt-4 text-gray-700 dark:text-gray-300">
        {% blocktrans trimmed %}Here are the essentials. For everything else, see the full FAQ.{% endblocktrans %}
      </p>
    </div>

    <!-- Accordion (dynamic) -->
    <div class="mt-8 md:mt-10 mx-auto max-w-3xl divide-y divide-black/10 dark:divide-white/10 rounded-2xl ring-1 ring-black/10 dark:ring-white/10 bg-white/70 dark:bg-white/[0.05] backdrop-blur">
      {% for item in faq_all %}
        <details class="group p-5 md:p-6 transition {% if forloop.first %}open:bg-white/80 open:dark:bg-white/[0.06]{% endif %}" {% if forloop.first %}open{% endif %}>
          <summary class="flex cursor-pointer list-none items-center justify-between gap-4">
            <h3 class="text-base md:text-lg font-medium text-gray-900 dark:text-gray-100">
              {{ item.q }}
            </h3>
            <svg class="h-5 w-5 shrink-0 text-gray-600 dark:text-gray-300 transition-transform group-open:rotate-180" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </summary>
          <div class="mt-3 text-sm text-gray-700 dark:text-gray-300">
            {{ item.a }}
          </div>
        </details>
      {% empty %}
        <div class="p-6 text-center text-sm text-gray-600 dark:text-gray-300">
          {% trans "No questions yet." %}
        </div>
      {% endfor %}
    </div>

    <!-- CTA row -->
    <div class="mt-8 md:mt-10 flex flex-col sm:flex-row items-center justify-center gap-3">
      <a href="{% url 'pricing' %}#plans"
         class="inline-flex items-center justify-center rounded-2xl px-5 py-3 text-white bg-indigo-600 hover:bg-indigo-500 active:bg-indigo-700 transition shadow-lg shadow-indigo-600/20">
        {% trans "Compare plans" %}
        <svg class="ml-2 h-5 w-5 rtl:rotate-180" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
      </a>
      <a href="{% url 'faq' %}" class="inline-flex items-center justify-center rounded-2xl px-5 py-3 text-indigo-700 dark:text-indigo-300 bg-indigo-600/10 hover:bg-indigo-600/20 dark:hover:bg-indigo-500/20 border border-indigo-600/30 dark:border-indigo-500/30 transition">
        {% trans "See full FAQ" %}
      </a>
    </div>
  </div>
</section>
