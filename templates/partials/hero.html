{% load static i18n %}
<link rel="stylesheet" href="{% static 'css/kv-hero.css' %}">
<link rel="stylesheet" href="{% static 'css/ui/buttons.css' %}">
<link rel="stylesheet" href="{% static 'css/ui/plan-orbs.css' %}">

<section class="kv-hero mt-[-30px] relative overflow-hidden">
  <!-- ðŸ”¹ Yeni: Arka plan video layer -->
  <div class="kv-video-layer pointer-events-none absolute inset-0 -z-10 overflow-hidden" aria-hidden="true">
    <video
      class="w-full h-full object-cover opacity-80 dark:opacity-80"
      autoplay
      muted
      loop
      preload="none"
      playsinline
      preload="metadata">
      <source src="{% static 'videos/hero-animation.webm' %}" type="video/webm">
    </video>

    <!-- Kontrast iÃ§in yumuÅŸak overlay -->
    <div class="absolute inset-0 bg-gradient-to-b
                from-white/70 via-white/20 to-white/70
                dark:from-neutral-950/80 dark:via-neutral-950/35 dark:to-neutral-950/85"></div>
  </div>

  <div class="kv-bg" style="opacity: 0.8;"></div>

  <!-- Orblar -->
  <div class="kv-orbs" aria-hidden="true">
    <span class="kv-orb kv-orb--tl"></span>
    <span class="kv-orb kv-orb--br"></span>
  </div>

  <div class="kv-content">
    <!-- Sol -->
    <div class="space-y-7 md:space-y-9">
      <!-- logo -->
      <div class="flex items-center gap-3">
        <img src="{% static 'img/favicon.ico' %}" class="h-10 w-10 rounded-lg bg-black/5 dark:bg-white/10 p-1" alt="">
      </div>

      <!-- BaÅŸlÄ±k -->
      <h1 class="kv-headline">
        {% trans "Coolvpn is Private. Fast. & Yours." %}
      </h1>

      <!-- KÄ±sa tagline -->
      <p class="kv-tagline max-w-xl">
        {% trans "One-tap connect. No-logs. No limits. CoolVPN." %}
      </p>

      <!-- ðŸ”¥ Bu aya Ã¶zel fiyat bandÄ± -->
      <div class="kv-deal mt-4 md:mt-6">
        <div class="kv-pill">
          <span class="kv-pill-hot">{% trans "This month only" %}</span>
          <span class="kv-dot" aria-hidden="true"></span>
          <span class="kv-pill-save">{% trans "Save 44%" %}</span>
        </div>

        <div class="kv-price-row">
          <div class="kv-price-main" aria-label="{% trans 'Current price' %}">
            <span class="kv-currency">$</span>
            <span class="kv-amount">4.99</span>
            <span class="kv-unit">/mo</span>
          </div>

          <div class="kv-price-compare">
            {% if old_monthly %}
              <del class="kv-old">{{ ui_currency_symbol }}{{ old_monthly }}</del>
            {% endif %}
            <span class="kv-badge-yr">
              {% blocktrans with sym=ui_currency_symbol yr=ui_annual %}or {{ sym }}{{ yr }}/year{% endblocktrans %}
            </span>
          </div>
        </div>

        <!-- CTAâ€™lar -->
        <div class="kv-deal-ctas">
          <a href="{% url 'pricing' %}" class="button-64 text-white -lg w-full sm:w-auto" style="color:white;">
            <span class="text">
              {% trans "Get Started" %}
              <svg style="color: white;" xmlns="http://www.w3.org/2000/svg" class="h-5 text-white w-5 ml-2 rtl:rotate-180" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                aria-hidden="true">
                <path d="M5 12h14" />
                <path d="M12 5l7 7-7 7" />
              </svg>
            </span>
          </a>

          <a href="{% url 'features:stealth' %}" class="flex items-center kv-btn kv-btn--ghost w-full sm:w-auto">
            {% trans "See How It Works" %}
          </a>
        </div>

        <!-- mini gÃ¼ven satÄ±rÄ± -->
        <ul class="kv-deal-bullets" role="list">
          <li>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M9 16.2 4.8 12l-1.4 1.4L9 19l12-12-1.4-1.4z" />
            </svg>
            {% trans "No-logs policy" %}
          </li>
          <li>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M5 12h14M12 5l7 7-7 7" />
            </svg>
            {% trans "1-tap connect" %}
          </li>
          <li>
            <svg viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
              <circle cx="12" cy="12" r="8" fill="none" stroke="currentColor" stroke-width="2" />
              <path d="M12 12 L17 7" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
              <circle cx="12" cy="12" r="1.6" fill="currentColor" />
            </svg>
            {% trans "Blazing speed" %}
          </li>
        </ul>
      </div>

      <!-- 2Ã—2 Feature Grid (kÄ±sa) -->
      <div class="pt-2 md:pt-4 grid grid-cols-1 sm:grid-cols-2 gap-x-10 gap-y-5">
        <div class="flex items-center gap-3">
          <div class="kv-cap">
            <svg class="h-5 w-5 text-emerald-400" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M9 16.2 4.8 12l-1.4 1.4L9 19l12-12-1.4-1.4z" />
            </svg>
          </div>
          <h3 class="kv-feature">{% trans "Ad & Tracker Blocking" %}</h3>
        </div>

        <div class="flex items-center gap-3">
          <div class="kv-cap">
            <svg class="h-5 w-5 text-emerald-400" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M3 12h18v2H3zM3 7h18v2H3zM3 17h12v2H3z" />
            </svg>
          </div>
          <h3 class="kv-feature">{% trans "1000 Gbps Backbone" %}</h3>
        </div>

        <div class="flex items-center gap-3">
          <div class="kv-cap">
            <svg class="h-5 w-5 text-emerald-400" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 2 3 6v6c0 5 3.8 9.4 9 10 5.2-.6 9-5 9-10V6l-9-4Z" />
            </svg>
          </div>
          <h3 class="kv-feature">{% trans "Zero-Logs. Anonymous." %}</h3>
        </div>

        <div class="flex items-center gap-3">
          <div class="kv-cap">
            <svg class="h-5 w-5 text-emerald-400" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M12 2a1 1 0 0 1 1 1v1.06c1.39.2 2.5.86 3.28 1.81.37.43.32 1.09-.11 1.47a1 1 0 0 1-1.43-.1c-.5-.58-1.29-1.04-2.27-1.2v4.6c2.28.44 4 1.46 4 3.76 0 2.03-1.7 3.47-4 3.86V21a1 1 0 0 1-2 0v-1.14c-1.47-.18-2.79-.84-3.66-1.91a1 1 0 1 1 1.52-1.3c.63.73 1.61 1.22 2.64 1.38v-4.72c-2.34-.47-4-1.55-4-3.72 0-2 1.6-3.43 4-3.82V3a1 1 0 0 1 1-1Zm1 9.23V6.96c-1.38.27-2 .96-2 1.83 0 .84.62 1.4 2 1.88Zm-2 3.61v4.1c1.38-.27 2-.92 2-1.83 0-.9-.62-1.46-2-1.94Z"/>
            </svg>
          </div>
          <h3 class="kv-feature">{% trans "Smart, Fair Pricing" %}</h3>
        </div>
      </div>
    </div>

    <!-- SaÄŸ: GÃ¶rsel (kaldÄ±rÄ±ldÄ±) -->
    <!-- <figure class="kv-figure"> â€¦ </figure> -->
  </div>
</section>

<!-- Reduce-motion + gÃ¶rÃ¼nÃ¼rlÃ¼k kontrolÃ¼ -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const video = document.querySelector('.kv-video-layer video');
    if (!video) return;

    const prefersReduced = window.matchMedia &&
      window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReduced) {
      video.pause();
      video.removeAttribute('autoplay');
      return;
    }

    const io = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        video.play().catch(()=>{});
      } else {
        video.pause();
      }
    }, { threshold: 0.15 });
    io.observe(video);
  });
</script>
